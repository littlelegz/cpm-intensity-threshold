(()=>{"use strict";var t={8228:function(t,e,r){var a=r(5893),s=r(7294),l=r(745),n=r(1910),i=r(2566),o=r(273),c=r(6447),d=r(7047),p=r(2504),x=r(3991),y=r(807),h=r(8077),m=r(4640);let u=(0,s.createContext)(),f=t=>{let{children:e}=t,[r,l]=(0,s.useState)(null),[n,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(null);return(0,a.jsx)(u.Provider,{value:{crosshairValues:r,setCrosshairValues:l,hoverValues:n,setHoverValues:i,zoomBounds:o,setZoomBounds:c,clearState:()=>{l(null),i(null),c(null)}},children:e})},g=t=>{let{data:e}=t,r=(0,s.useRef)(),l=(0,s.useRef)(),n=(0,s.useRef)(),i={top:120,right:120,bottom:40,left:40},{crosshairValues:o,setCrosshairValues:c,setHoverValues:d,zoomBounds:p,setZoomBounds:x,clearState:f}=(0,s.useContext)(u),[g,v]=(0,s.useState)(e),j=(0,s.useCallback)((t,e,a)=>{let[s,l]=m.cx$(t),n={cpm:e.xScale.invert(s),intensity:e.yScale.invert(l)},i=m.Ys(r.current),o=i.select(".crosshair"),d=i.select(".reference-crosshair");a(s,l),o.attr("manual-show",!0),o.style("display",null),d.style("display",null),d.select(".reference-vertical").attr("x1",s).attr("x2",s),d.select(".reference-horizontal").attr("y1",l).attr("y2",l),c(n)},[o,g]),b=()=>{let t=l.current.value.split("-").map(Number),e=n.current.value.split("-").map(Number);if(2!==t.length||2!==e.length){console.error('Invalid input format. Expected format: "min-max"');return}x({cpm:t,intensity:e})};(0,s.useEffect)(()=>{e&&(v(e),f())},[e]),(0,s.useEffect)(()=>{if(!g)return;m.Ys(r.current).selectAll("*").remove(),m.Ys("body").selectAll(".tooltip").remove();let t=m.Ys("body").append("div").attr("class","tooltip").style("opacity",0),e=m.BYU().domain(p?p.cpm:[m.VV$(g,t=>t.cpm),m.Fp7(g,t=>t.cpm)]).range([i.left,800-i.right]),a=m.BYU().domain(p?p.intensity:[m.VV$(g,t=>t.intensity),m.Fp7(g,t=>t.intensity)]).range([600-i.bottom,i.top]),s=p?g.filter(t=>t.cpm>=p.cpm[0]&&t.cpm<=p.cpm[1]&&t.intensity>=p.intensity[0]&&t.intensity<=p.intensity[1]):g,l=m.Ys(r.current).attr("width",800).attr("height",600),n=m.KXr().value(t=>t.cpm).domain(e.domain()).thresholds(e.ticks(30)),o=m.KXr().value(t=>t.intensity).domain(a.domain()).thresholds(a.ticks(30)),c=n(s),x=o(s),y=m.BYU().domain([0,m.Fp7(c,t=>t.length)]).range([0,i.top]),h=m.BYU().domain([0,m.Fp7(x,t=>t.length)]).range([0,i.right]);l.append("g").attr("transform",`translate(0, ${i.top})`).append("path").datum(c).attr("fill","#999").attr("opacity",.5).attr("d",m.SOn().x(t=>e(t.x0+(t.x1-t.x0)/2)).y0(0).y1(t=>-y(t.length)).curve(m.$0Z)),l.append("g").attr("transform",`translate(${800-i.right}, 0)`).append("path").datum(x).attr("fill","#999").attr("opacity",.5).attr("d",m.SOn().y(t=>a(t.x0+(t.x1-t.x0)/10)).x0(0).x1(t=>h(t.length)).curve(m.$0Z));let u=l.append("g").attr("class","reference-crosshair").style("display","none");u.append("line").attr("class","reference-vertical").attr("y1",i.top).attr("y2",600-i.bottom).attr("stroke","#0066cc").attr("stroke-width",1).attr("stroke-dasharray","3,3"),u.append("line").attr("class","reference-horizontal").attr("x1",i.left).attr("x2",800-i.right).attr("stroke","#0066cc").attr("stroke-width",1).attr("stroke-dasharray","3,3"),l.append("g").attr("transform",`translate(0,${600-i.bottom})`).call(m.LLu(e)).append("text").attr("x",800-i.right).attr("y",-10).attr("fill","black").text("CPM"),l.append("g").attr("transform",`translate(${i.left},0)`).call(m.y4O(a)).append("text").attr("transform","rotate(-90)").attr("y",15).attr("x",-i.top+10).attr("fill","black").text("Intensity");let f=l.append("g").attr("class","crosshair").style("display","none");function v(t,r){if(t>=i.left&&t<=800-i.right&&r>=i.top&&r<=600-i.bottom){f.style("display",null),f.select(".crosshair-vertical").attr("x1",t).attr("x2",t),f.select(".crosshair-horizontal").attr("y1",r).attr("y2",r);let s=e.invert(t).toFixed(2),l=a.invert(r).toFixed(2);f.select(".crosshair-x-label").attr("x",t).text(`CPM: ${s}`),f.select(".crosshair-y-label").attr("y",r).text(`Intensity: ${l}`)}}f.append("line").attr("class","crosshair-vertical").attr("y1",i.top).attr("y2",600-i.bottom).attr("stroke","#666").attr("stroke-width",1).attr("stroke-dasharray","3,3"),f.append("line").attr("class","crosshair-horizontal").attr("x1",i.left).attr("x2",800-i.right).attr("stroke","#666").attr("stroke-width",1).attr("stroke-dasharray","3,3"),f.append("text").attr("class","crosshair-x-label").attr("text-anchor","middle").attr("dy","1em").attr("y",600-i.bottom+20),f.append("text").attr("class","crosshair-y-label").attr("text-anchor","end").attr("dx","-0.5em").attr("x",i.left-5),l.append("rect").attr("width",800-i.left-i.right).attr("height",600-i.top-i.bottom).attr("x",i.left).attr("y",i.top).attr("fill","none").attr("pointer-events","all").on("mousemove",function(t){let[r,s]=m.cx$(t);v(r,s),d({cpm:e.invert(r).toFixed(2),intensity:a.invert(s).toFixed(2)})}).on("mouseleave",function(){f.style("display","none"),d(null)}).on("click",t=>j(t,{xScale:e,yScale:a},v)),l.selectAll("circle").data(s).join("circle").attr("cx",t=>e(t.cpm)).attr("cy",t=>a(t.intensity)).attr("r",3).attr("fill",t=>1===t.state?"#ff6b6b":"#4ecdc4").attr("opacity",.6).on("mouseover",function(r,s){let l=m.Ys(this);f.attr("manual-show",!0),v(e(s.cpm),a(s.intensity)),l.attr("r",5).attr("stroke","#000").attr("stroke-width",1),t.transition().duration(200).style("opacity",.9),t.html(s.name).style("left",r.pageX+10+"px").style("top",r.pageY-10+"px")}).on("mouseout",function(){let e=m.Ys(this);f.attr("manual-show",null),f.style("display","none"),e.attr("r",3).attr("stroke",null),t.transition().duration(500).style("opacity",0)})},[g,p]);let k=()=>{if(!o||!e)return;let t=new Blob([["name	state",...e.map(t=>{let e;return e=t.cpm>o.cpm&&t.intensity>o.intensity?1:t.cpm>o.cpm&&t.intensity<=o.intensity?2:t.cpm<=o.cpm&&t.intensity<=o.intensity?3:4,{name:t.name,state:e}}).map(t=>`${t.name}	${t.state}`)].join("\n")],{type:"text/tab-separated-values"}),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="threshold_results.tsv",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)};return(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:o?"space-evenly":"center",alignItems:"center"},children:[(0,a.jsx)("div",{style:{position:"relative"},children:(0,a.jsx)("svg",{ref:r})}),(0,a.jsxs)("div",{className:"rightPanels",style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(()=>{let t=(t,a)=>{let s=parseFloat(a);if(!isNaN(s)){c(e=>({...e,[t]:s}));let a=m.Ys(r.current),l=m.BYU().domain([m.VV$(e,t=>t.cpm),m.Fp7(e,t=>t.cpm)]).range([i.left,800-i.right]),n=m.BYU().domain([m.VV$(e,t=>t.intensity),m.Fp7(e,t=>t.intensity)]).range([600-i.bottom,i.top]),o=a.select(".reference-crosshair");"cpm"===t?o.select(".reference-vertical").attr("x1",l(s)).attr("x2",l(s)):o.select(".reference-horizontal").attr("y1",n(s)).attr("y2",n(s))}};return(0,a.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"4px",minWidth:"200px"},children:[(0,a.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginBottom:"15px"},children:(0,a.jsx)(h.Z,{variant:"h7",children:"Threshold"})}),(0,a.jsxs)("div",{className:"threshold-inputs",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,a.jsx)("label",{htmlFor:"cpm-input",children:"CPM:"}),(0,a.jsx)("input",{id:"cpm-input",type:"number",placeholder:(null==o?void 0:o.cpm)||0,onKeyUp:e=>{"Enter"===e.key&&t("cpm",e.target.value)},style:{width:"100px",padding:"4px",borderRadius:"4px",border:"1px solid #ccc"}})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,a.jsx)("label",{htmlFor:"intensity-input",children:"Intensity:"}),(0,a.jsx)("input",{id:"intensity-input",type:"number",placeholder:(null==o?void 0:o.intensity)||0,onKeyUp:e=>{"Enter"===e.key&&t("intensity",e.target.value)},style:{width:"100px",padding:"4px",borderRadius:"4px",border:"1px solid #ccc"}})]}),(0,a.jsx)(y.Z,{size:"small",variant:"outlined",color:"error",onClick:()=>{c(null),m.Ys(r.current).select(".reference-crosshair").style("display","none")},children:"Clear"})]})]})})(),(()=>{if(!o)return null;var t=0,e=0,r=0,s=0;g.forEach(a=>{a.cpm>o.cpm&&a.intensity>o.intensity?t++:a.cpm<=o.cpm&&a.intensity<=o.intensity?e++:a.cpm>o.cpm&&a.intensity<=o.intensity?r++:a.cpm<=o.cpm&&a.intensity>o.intensity&&s++});let l=(t+e)/(t+e+r+s),n=t/(t+r),i=t/(t+s),c=e/(e+r),d=r/(r+e),p=s/(t+s),x=(t*e-r*s)/Math.sqrt((t+r)*(t+s)*(e+r)*(e+s));return(0,a.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"4px",minWidth:"200px"},children:[(0,a.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginBottom:"15px"},children:(0,a.jsx)(h.Z,{variant:"h7",children:"Metrics"})}),(0,a.jsxs)("div",{className:"metrics-text",style:{marginTop:"10px",textAlign:"start"},children:[(0,a.jsxs)("div",{children:["Accuracy: ",(100*l).toFixed(2),"%"]}),(0,a.jsxs)("div",{children:["Precision: ",(100*n).toFixed(2),"%"]}),(0,a.jsxs)("div",{children:["Recall (TPR): ",(100*i).toFixed(2),"%"]}),(0,a.jsxs)("div",{children:["F1 Score: ",(n*i*2/(n+i)).toFixed(2)]}),(0,a.jsxs)("div",{children:["Specificity (TNR): ",(100*c).toFixed(2),"%"]}),(0,a.jsxs)("div",{children:["False Positive Rate: ",(100*d).toFixed(2),"%"]}),(0,a.jsxs)("div",{children:["False Negative Rate: ",(100*p).toFixed(2),"%"]}),(0,a.jsxs)("div",{children:["MCC: ",x.toFixed(2)]})]}),(0,a.jsx)("div",{style:{marginTop:"10px"},children:(0,a.jsx)(y.Z,{size:"small",variant:"outlined",onClick:k,children:"Download"})})]})})(),(0,a.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"4px",minWidth:"200px"},children:[(0,a.jsx)("div",{className:"graph-main",style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginBottom:"15px"},children:(0,a.jsx)(h.Z,{variant:"h7",children:"Zoom Between"})}),(0,a.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,a.jsx)("label",{htmlFor:"cpm-input",children:"CPM:"}),(0,a.jsx)("input",{id:"cpm-input",type:"text",placeholder:`0-${m.Fp7(g,t=>t.cpm).toFixed(2)}`,style:{width:"100px",padding:"4px",borderRadius:"4px",border:"1px solid #ccc"},ref:l})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("label",{htmlFor:"intensity-input",children:"Intensity:"}),(0,a.jsx)("input",{id:"intensity-input",type:"text",placeholder:`0-${m.Fp7(g,t=>t.intensity).toFixed(2)}`,style:{width:"100px",padding:"4px",borderRadius:"4px",border:"1px solid #ccc"},ref:n})]})]}),(0,a.jsx)(y.Z,{size:"small",variant:"outlined",color:"primary",onClick:()=>{b()},children:"Apply Zoom"}),p&&(0,a.jsx)(y.Z,{size:"small",variant:"outlined",onClick:()=>{v(e),x(null)},children:"Reset Selection"})]})]})]})},v={fnr:"#ffff33",fpr:"#a65628",tpr:"#377eb8",tnr:"#4daf4a",accuracy:"#f781bf",precision:"#984ea3",mcc:"#e41a1c",f1:"#ff7f00"},j=t=>{let{data:e}=t,{crosshairValues:r,hoverValues:l,zoomBounds:n}=(0,s.useContext)(u),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),p=(0,s.useRef)(null),x=(0,s.useRef)(null),y=function(t){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=0,l=0,n=0,i=0;e.forEach(e=>{a?e.cpm>=t?e.intensity>=r.intensity?s++:n++:e.intensity>=r.intensity?i++:l++:e.intensity>=t?e.cpm>=r.cpm?s++:n++:e.cpm>=r.cpm?i++:l++});let o=(s+l)/(s+l+n+i),c=s/(s+n)||0,d=s/(s+i)||0,p=l/(l+n)||0,x=i/(s+i)||0,y=n/(l+n)||0;return{fnr:x,fpr:y,tpr:d,tnr:p,accuracy:o,precision:c,mcc:(s*l-n*i)/Math.sqrt((s+n)*(s+i)*(l+n)*(l+i)||1),f1:c*d*2/(c+d)||0,threshold:t}};return(0,s.useEffect)(()=>{if(!e||!r)return;m.Ys(p.current).selectAll("*").remove(),m.Ys(x.current).selectAll("*").remove();let t={top:20,right:20,bottom:30,left:40},a=500-t.left-t.right,s=300-t.top-t.bottom,i=m.Ys(p.current).attr("width",a+t.left+t.right).attr("height",s+t.top+t.bottom).append("g").attr("transform",`translate(${t.left},${t.top})`),c=m.BYU().domain(n?n.cpm:[0,m.Fp7(e,t=>t.cpm)]).range([0,a]),h=m.Ly_().domain(c.domain()).thresholds(40)(e.map(t=>t.cpm)).map(t=>{var a=0,s=0,l=0,n=0;e.forEach(e=>{e.cpm>=t.x0?e.intensity>=r.intensity?a++:l++:e.intensity>=r.intensity?n++:s++});let i=(a+s)/(a+s+l+n),o=a/(a+l),c=(a*s-l*n)/Math.sqrt((a+l)*(a+n)*(s+l)*(s+n)||1),d=a/(a+n)||0;return{x:(t.x0+t.x1)/2,fnr:n/(a+n),fpr:l/(s+l),tpr:d,tnr:s/(s+l),accuracy:i,precision:o,mcc:c,f1:o*d*2/(o+d)||0}}),u=m.BYU().domain([0,1]).range([s,0]),f=m.jvg().x(t=>c(t.x)).y(t=>u(t.y)).curve(m.$0Z);["fnr","fpr","tpr","tnr","accuracy","precision","mcc","f1"].forEach((t,e)=>{i.append("path").datum(h.map(e=>({x:e.x,y:e[t]}))).attr("fill","none").attr("stroke",v[t]).attr("stroke-width",1.5).attr("d",f)}),i.append("g").attr("class","x-axis").attr("transform",`translate(0,${s})`).call(m.LLu(c)),i.append("g").attr("class","y-axis").call(m.y4O(u)),i.append("text").attr("class","x-axis-label").attr("text-anchor","middle").attr("x",a/2).attr("y",s+t.bottom+10).text("CPM Threshold");let g=i.append("g").attr("class","hover-line").style("display","none");g.append("line").attr("stroke","#999").attr("stroke-width",1).attr("stroke-dasharray","3,3").attr("y1",0).attr("y2",s);let j=i.append("g").attr("class","mouse-over-effects");j.append("path").attr("class","mouse-line").style("stroke","black").style("stroke-width","1px").style("opacity","0");let b=j.append("g").style("display","none");b.append("line").attr("class","crosshair vertical").style("stroke","#666").style("stroke-width","1px").style("stroke-dasharray","3,3"),b.append("line").attr("class","crosshair horizontal").style("stroke","#666").style("stroke-width","1px").style("stroke-dasharray","3,3"),b.append("text").attr("class","crosshair-label x").attr("text-anchor","middle"),b.append("text").attr("class","crosshair-label y").attr("text-anchor","end");let k=i.append("g").attr("class","click-line").style("display","none");k.append("line").attr("class","click-crosshair").style("stroke","#00F").style("stroke-width","1px").style("stroke-dasharray","5,5"),k.append("text").attr("class","click-label").attr("text-anchor","middle").attr("y",-5),j.append("rect").attr("width",a).attr("height",s).attr("fill","none").attr("pointer-events","all").on("mouseout",()=>{b.style("display","none"),i.selectAll(".x-axis .tick text").style("opacity",1)}).on("mouseover",()=>{b.style("display",null),i.selectAll(".x-axis .tick text").style("opacity",0)}).on("mousemove",function(t){let e=m.cx$(t),r=e[0],l=e[1];b.select(".vertical").attr("x1",r).attr("x2",r).attr("y1",0).attr("y2",s),b.select(".horizontal").attr("x1",0).attr("x2",a).attr("y1",l).attr("y2",l);let n=c.invert(r).toFixed(2),i=u.invert(l).toFixed(2);b.select(".crosshair-label.x").attr("x",r).attr("y",s+20).text(`CPM: ${n}`),b.select(".crosshair-label.y").attr("x",-10).attr("y",l+4).text(`${i}`)}).on("click",function(t){let[e]=m.cx$(t),r=c.invert(e);o(y(r,!0)),k.style("display",null).attr("transform",`translate(${e},0)`),k.select("line").attr("y1",0).attr("y2",s),k.select("text").text(`CPM: ${r.toFixed(2)}`)});let w=m.Ys(x.current).attr("width",a+t.left+t.right).attr("height",s+t.top+t.bottom).append("g").attr("transform",`translate(${t.left},${t.top})`),F=m.BYU().domain(n?n.intensity:[0,m.Fp7(e,t=>t.intensity)]).range([0,a]),C=m.Ly_().domain(F.domain()).thresholds(40)(e.map(t=>t.intensity)).map(t=>{var a=0,s=0,l=0,n=0;e.forEach(e=>{e.intensity>=t.x0?e.cpm>=r.cpm?a++:l++:e.cpm>=r.cpm?n++:s++});let i=(a+s)/(a+s+l+n),o=a/(a+l),c=(a*s-l*n)/Math.sqrt((a+l)*(a+n)*(s+l)*(s+n)||1),d=a/(a+n)||0;return{x:(t.x0+t.x1)/2,fnr:n/(a+n),fpr:l/(s+l),tpr:a/(a+n),tnr:s/(s+l),accuracy:i,precision:o,mcc:c,f1:o*d*2/(o+d)||0}}),$=m.BYU().domain([0,1]).range([s,0]),R=m.jvg().x(t=>F(t.x)).y(t=>$(t.y)).curve(m.$0Z);["fnr","fpr","tpr","tnr","accuracy","precision","mcc","f1"].forEach((t,e)=>{w.append("path").datum(C.map(e=>({x:e.x,y:e[t]}))).attr("fill","none").attr("stroke",v[t]).attr("stroke-width",1.5).attr("d",R)}),w.append("g").attr("class","x-axis").attr("transform",`translate(0,${s})`).call(m.LLu(F)),w.append("g").attr("class","y-axis").call(m.y4O($)),w.append("text").attr("class","x-axis-label").attr("text-anchor","middle").attr("x",a/2).attr("y",s+t.bottom+10).text("Intensity Threshold");let I=w.append("g").attr("class","hover-line").style("display","none");if(I.append("line").attr("stroke","#999").attr("stroke-width",1).attr("stroke-dasharray","3,3").attr("y1",0).attr("y2",s),l){let t=c(l.cpm);t>=0&&t<=a&&g.style("display",null).select("line").attr("x1",t).attr("x2",t);let e=F(l.intensity);e>=0&&e<=a&&I.style("display",null).select("line").attr("x1",e).attr("x2",e)}let O=w.append("g").attr("class","mouse-over-effects"),S=O.append("g").style("display","none");S.append("line").attr("class","crosshair vertical").style("stroke","#666").style("stroke-width","1px").style("stroke-dasharray","3,3"),S.append("line").attr("class","crosshair horizontal").style("stroke","#666").style("stroke-width","1px").style("stroke-dasharray","3,3"),S.append("text").attr("class","crosshair-label x").attr("text-anchor","middle"),S.append("text").attr("class","crosshair-label y").attr("text-anchor","end");let P=w.append("g").attr("class","click-line").style("display","none");P.append("line").attr("class","click-crosshair").style("stroke","#00F").style("stroke-width","1px").style("stroke-dasharray","5,5"),P.append("text").attr("class","click-label").attr("text-anchor","middle").attr("y",-5),O.append("rect").attr("width",a).attr("height",s).attr("fill","none").attr("pointer-events","all").on("mouseout",()=>{S.style("display","none"),w.selectAll(".x-axis .tick text").style("opacity",1)}).on("mouseover",()=>{S.style("display",null),w.selectAll(".x-axis .tick text").style("opacity",0)}).on("mousemove",function(t){let e=m.cx$(t),r=e[0],l=e[1];S.select(".vertical").attr("x1",r).attr("x2",r).attr("y1",0).attr("y2",s),S.select(".horizontal").attr("x1",0).attr("x2",a).attr("y1",l).attr("y2",l);let n=F.invert(r).toFixed(2),i=$.invert(l).toFixed(2);S.select(".crosshair-label.x").attr("x",r).attr("y",s+20).text(`Intensity: ${n}`),S.select(".crosshair-label.y").attr("x",-10).attr("y",l+4).text(`${i}`)}).on("click",function(t){let[e]=m.cx$(t),r=F.invert(e);d(y(r,!1)),P.style("display",null).attr("transform",`translate(${e},0)`),P.select("line").attr("y1",0).attr("y2",s),P.select("text").text(`Intensity: ${r.toFixed(2)}`)})},[e,r,l,n]),(0,s.useEffect)(()=>{},[r]),(0,a.jsx)("div",{className:"statGraphs",style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"20px"},children:r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start"},children:[i&&(0,a.jsxs)("div",{style:{backgroundColor:"#f5f5f5",padding:"15px",borderRadius:"8px",marginTop:"40px",minWidth:"200px"},children:[(0,a.jsxs)("h5",{style:{margin:"0 0 10px 0"},children:["Metrics at CPM ",i.threshold.toFixed(2)]}),Object.entries(i).filter(t=>{let[e]=t;return"threshold"!==e}).map(t=>{let[e,r]=t;return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:v[e],borderRadius:"2px"}}),(0,a.jsxs)("span",{children:[e,":"]})]}),(0,a.jsxs)("span",{children:[(100*r).toFixed(1),"%"]})]},e)})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{children:["CPM Rates at Intensity ",r.intensity]}),(0,a.jsx)("svg",{ref:p})]})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#f5f5f5",padding:"15px",borderRadius:"8px",marginTop:"40px"},children:[(0,a.jsx)("h5",{style:{marginTop:0,marginBottom:"10px"},children:"Legend"}),["FNR","FPR","TPR","TNR","Accuracy","Precision","MCC","F1"].map((t,e)=>(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[(0,a.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:v[t.toLowerCase()],marginRight:"8px"}}),t]},t))]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{children:["Intensity Rates at CPM ",r.cpm]}),(0,a.jsx)("svg",{ref:x})]}),c&&(0,a.jsxs)("div",{style:{backgroundColor:"#f5f5f5",padding:"15px",borderRadius:"8px",marginTop:"40px",minWidth:"200px"},children:[(0,a.jsxs)("h5",{style:{margin:"0 0 10px 0"},children:["Metrics at Intensity ",c.threshold.toFixed(2)]}),Object.entries(c).filter(t=>{let[e]=t;return"threshold"!==e}).map(t=>{let[e,r]=t;return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:v[e],borderRadius:"2px"}}),(0,a.jsxs)("span",{children:[e,":"]})]}),(0,a.jsxs)("span",{children:[(100*r).toFixed(1),"%"]})]},e)})]})]})]})})};l.createRoot(document.getElementById("root")).render((0,a.jsx)(s.StrictMode,{children:(0,a.jsx)(()=>{let[t,e]=(0,s.useState)(null),[r,l]=(0,s.useState)(null),[m,u]=(0,s.useState)([]),[v,b]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(t){b(!0);let t=setTimeout(()=>{b(!1)},3e3);return()=>clearTimeout(t)}},[t]),(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)(x.Z,{sx:{p:3},children:[(0,a.jsxs)(x.Z,{sx:{mb:3},children:[(0,a.jsx)("input",{accept:".txt,.tsv",style:{display:"none"},id:"raised-button-file",type:"file",onChange:t=>{let r=t.target.files[0];if(!r)return;let a=new FileReader;a.onload=t=>{let r=t.target.result.split("\n"),a=r[0].split("	").map(t=>t.trim()),s=r.slice(1).filter(t=>t.trim()).map(t=>{let e=t.split("	").map(t=>t.trim());return a.reduce((t,r,a)=>(t[r]="state"===r?parseInt(e[a]):"cpm"===r||"intensity"===r?parseFloat(e[a]):e[a],t),{})});e(s),l(s);let n=[...new Set(s.map(t=>t.state))].sort((t,e)=>t-e);void 0!==n[0]?u(n):u(null),console.log("Loaded data:",s.slice(0,5))},a.readAsText(r)}}),(0,a.jsx)("label",{htmlFor:"raised-button-file",children:(0,a.jsx)(y.Z,{variant:"contained",component:"span",children:"Upload Data"})})]}),!t&&(0,a.jsxs)(a.Fragment,{children:["Accepts .txt or .tsv files with the following columns: ",(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"name"}),", ",(0,a.jsx)("strong",{children:"cpm"}),", ",(0,a.jsx)("strong",{children:"intensity"}),", ",(0,a.jsx)("strong",{children:"state"}),(0,a.jsx)("br",{})]}),t&&(0,a.jsxs)(f,{children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",gap:"10px",justifyContent:"space-between"},children:[v&&(0,a.jsxs)(h.Z,{children:["Loaded ",t.length," samples"]}),m&&(0,a.jsxs)(n.Z,{sx:{m:1,width:200,minWidth:120},size:"small",children:[(0,a.jsx)(i.Z,{id:"state-select-label",children:"States"}),(0,a.jsx)(o.Z,{labelId:"state-select-label",id:"state-select",multiple:!0,size:"small",value:m,onChange:e=>{let r=e.target.value;u(r),t&&l(0===r.length?t:t.filter(t=>r.includes(t.state)))},input:(0,a.jsx)(c.Z,{label:"States"}),renderValue:t=>(0,a.jsx)(x.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(t=>(0,a.jsx)(d.Z,{label:`S${t}`,size:"small"},t))}),MenuProps:{PaperProps:{style:{maxHeight:300}}},children:[...new Set(t.map(t=>t.state))].sort((t,e)=>t-e).map(t=>(0,a.jsxs)(p.Z,{value:t,dense:!0,children:["State ",t]},t))})]})]}),(0,a.jsx)(g,{data:r}),(0,a.jsx)(j,{data:r})]})]})})},{})}))}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={exports:{}};return t[a](l,l.exports,r),l.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;r.t=function(a,s){if(1&s&&(a=this(a)),8&s||"object"==typeof a&&a&&(4&s&&a.__esModule||16&s&&"function"==typeof a.then))return a;var l=Object.create(null);r.r(l);var n={};t=t||[null,e({}),e([]),e(e)];for(var i=2&s&&a;"object"==typeof i&&!~t.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach(t=>{n[t]=()=>a[t]});return n.default=()=>a,r.d(l,n),l}})(),r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=[];r.O=(e,a,s,l)=>{if(a){l=l||0;for(var n=t.length;n>0&&t[n-1][2]>l;n--)t[n]=t[n-1];t[n]=[a,s,l];return}for(var i=1/0,n=0;n<t.length;n++){for(var[a,s,l]=t[n],o=!0,c=0;c<a.length;c++)(!1&l||i>=l)&&Object.keys(r.O).every(t=>r.O[t](a[c]))?a.splice(c--,1):(o=!1,l<i&&(i=l));if(o){t.splice(n--,1);var d=s();void 0!==d&&(e=d)}}return e}})(),r.rv=()=>"1.3.0",(()=>{var t={980:0};r.O.j=e=>0===t[e];var e=(e,a)=>{var s,l,[n,i,o]=a,c=0;if(n.some(e=>0!==t[e])){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(o)var d=o(r)}for(e&&e(a);c<n.length;c++)l=n[c],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self.webpackChunkvisualization=self.webpackChunkvisualization||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})(),r.ruid="bundler=rspack@1.3.0";var a=r.O(void 0,["361","972"],function(){return r(8228)});a=r.O(a)})();